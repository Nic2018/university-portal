<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"><title>My Bookings</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * { margin:0; padding:0; box-sizing:border-box; font-family:'Poppins', sans-serif; }
        body { display:flex; height:100vh; background:#f8f9fc; overflow:hidden; }
        .sidebar { width:90px; background:#fff; display:flex; flex-direction:column; align-items:center; padding:30px 0; box-shadow:2px 0 20px rgba(0,0,0,0.03); z-index:10; }
        .sidebar-icon { width:50px; height:50px; border-radius:12px; display:flex; justify-content:center; align-items:center; color:#999; font-size:1.2rem; margin-bottom:25px; transition:0.3s; text-decoration:none; position:relative; }
        .sidebar-icon:hover { background:#f0f4ff; color:#4a6cf7; }
        .sidebar-icon.active { background:#4a6cf7; color:white; box-shadow:0 10px 20px rgba(74,108,247,0.3); }
        .sidebar-icon.logout { margin-top:auto; color:#ff5b5b; }
        .sidebar-icon::after { content:attr(data-tooltip); position:absolute; left:70px; top:50%; transform:translateY(-50%) translateX(10px); background:#222; color:white; padding:6px 12px; border-radius:6px; font-size:0.85rem; white-space:nowrap; opacity:0; visibility:hidden; transition:0.2s; pointer-events:none; z-index:100; }
        .sidebar-icon:hover::after { opacity:1; visibility:visible; transform:translateY(-50%) translateX(0); }
        .main-content { flex:1; padding:30px; overflow-y:auto; }
        .booking-card { background:white; padding:20px; border-radius:15px; display:flex; align-items:center; justify-content:space-between; margin-bottom:15px; box-shadow:0 5px 15px rgba(0,0,0,0.03); }
        .date-box { background:#eef2ff; color:#4a6cf7; padding:15px; border-radius:12px; text-align:center; min-width:80px; }
        .btn-cancel { background:#fff2f2; color:#ff5b5b; border:none; padding:10px 15px; border-radius:8px; cursor:pointer; font-weight:600; display:flex; align-items:center; gap:5px; }
        .btn-cancel:hover { background:#ff5b5b; color:white; }
    </style>
</head>
<body>
    <div class="sidebar">
        <a href="{% url 'dashboard' %}" class="sidebar-icon" data-tooltip="Dashboard"><i class="fas fa-home"></i></a>
        
        <a href="#" class="sidebar-icon active" data-tooltip="My Bookings"><i class="fas fa-list-ul"></i></a>
        
        <a href="{% url 'calendar' %}" class="sidebar-icon" data-tooltip="View Schedule"><i class="fas fa-calendar-alt"></i></a>
        <a href="{% url 'venue_list' %}" class="sidebar-icon" data-tooltip="Campus Venues"><i class="fas fa-map-marker-alt"></i></a>
        <a href="{% url 'create_booking' %}" class="sidebar-icon" data-tooltip="Book a Room"><i class="fas fa-plus"></i></a>
        
        <a href="{% url 'profile' %}" class="sidebar-icon" data-tooltip="Settings"><i class="fas fa-user-cog"></i></a>
        
        <a href="{% url 'logout' %}" class="sidebar-icon logout" data-tooltip="Log Out"><i class="fas fa-sign-out-alt"></i></a>
    </div>
    <div class="main-content">
        <h1>My Bookings</h1>
        {% for booking in bookings %}
        <div class="booking-card">
            <div style="display:flex; gap:20px; align-items:center;">
                <div class="date-box">
                    <div style="font-size:1.5rem; font-weight:700;">{{ booking.start_time|date:"d" }}</div>
                    <div style="font-size:0.8rem;">{{ booking.start_time|date:"M" }}</div>
                </div>
                <div>
                    <h3>{{ booking.event_name }}</h3>
                    <p style="color:#777;"><i class="fas fa-map-pin"></i> {{ booking.venue.name }}</p>
                    <p style="color:#777;">{{ booking.start_time|date:"H:i" }} - {{ booking.end_time|date:"H:i" }}</p>
                </div>
            </div>
            <form action="{% url 'delete_booking' booking.id %}" method="POST" onsubmit="return confirm('Cancel this booking?');">
                {% csrf_token %}
                <button class="btn-cancel"><i class="fas fa-trash-alt"></i> Cancel</button>
            </form>
        </div>
        {% empty %}
        <p style="text-align:center; margin-top:50px; color:#999;">No bookings found.</p>
        {% endfor %}
    </div>
</body>
</html>